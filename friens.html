<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- اضافه کردن اسکریپت تلگرام -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="./Tapgame/assets/3.4.5"></script>
    <link rel="stylesheet" href="./Tapgame/assets/css/style-2.css">
    <link rel="stylesheet" href="./Tapgame/assets/css/responsive-1.css">
    <style>
        body, html {
            height: 100%;
            margin: 0;
        }
        .full-height {
            height: 108%;
        }
        #copyMessage {
            display: none;
        }
    </style>
</head>
<body class="boost">
    <div class="text-white p-4 rounded-lg max-w-md mx-auto full-height flex flex-col">
        <div class="flex justify-between items-center mb-4">
            <a href="https://darkpxtg.github.io/Dark-Coin/Reload.html">
                <svg width="35px" height="35px" viewBox="0 0 24 24" fill="none">
                    <path d="M22 11.9299H2" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    <path d="M8.00009 19L2.84009 14C2.5677 13.7429 2.35071 13.433 2.20239 13.0891C2.05407 12.7452 1.97754 12.3745 1.97754 12C1.97754 11.6255 2.05407 11.2548 2.20239 10.9109C2.35071 10.567 2.5677 10.2571 2.84009 10L8.00009 5" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </a>
        </div>

        <div class="flex-grow overflow-auto">
            <h2 class="text-center text-2xl font-bold mb-2">Invite friends!</h2>
            <p class="text-center mb-4">You and your friend will receive bonuses</p>
            <div class="space-y-4">
                <div class="bg-slate-900 p-4 flex items-center rounded-3xl shadow-lg">
                    <img src="./Tapgame/assets/images/charge.png" width="50px" height="50px" alt="gift" class="w-12 h-12 mr-4">   
                    <div>
                        <p class="font-bold">Invite a friend</p>
                        <p class="text-yellow-400">+50,000 for you and your friend</p>
                    </div>
                </div>
            </div>

            <h3 class="mt-6 mb-2">List of your friends (0)</h3>
            <div class="space-y-2"></div>
        </div>

        <button id="inviteButton" class="bg-slate-900 hover:bg-slate-900/95 text-white w-full py-6 mt-4 rounded-3xl shadow-lg flex items-center justify-center">
            <span>Invite a friend</span>
        </button>
        <p id="copyMessage" class="text-center text-green-500 mt-4 hidden">Copy Success..!</p>
    </div>

    <!-- کپی رایت -->
    <div class="footer" style="text-align: center; margin-top: 20px; color: white;">
        <p>&copy; <span id="year"></span> All rights reserved</p>
    </div>

    <script>
        // جلوگیری از کلیک راست و ابزارهای توسعه‌دهنده
        document.addEventListener("contextmenu", event => event.preventDefault());
        document.addEventListener("keydown", function(event) {
            if ((event.ctrlKey && ["u", "U", "s", "S"].includes(event.key)) ||
                (event.ctrlKey && event.shiftKey && ["I", "i"].includes(event.key)) ||
                event.key === "F12") {
                event.preventDefault();
            }
        });

        function getUserId() {
            // دریافت آیدی کاربر از تلگرام
            if (window.Telegram && Telegram.WebApp.initDataUnsafe && Telegram.WebApp.initDataUnsafe.user) {
                return Telegram.WebApp.initDataUnsafe.user.id;
            } else {
                return "123456"; // مقدار پیش‌فرض در صورت عدم دریافت
            }
        }

        document.getElementById('inviteButton').addEventListener('click', function() {
            let userId = getUserId();
            let referralLink = https://t.me/Darkcoiin_bot?start=ref${userId};

            // کپی لینک به کلیپ بورد
            navigator.clipboard.writeText(referralLink).then(function() {
                // نمایش پیغام کپی موفق
                let copyMessage = document.getElementById('copyMessage');
                copyMessage.textContent = "Link copied!";
                copyMessage.classList.remove('hidden');

                // محو شدن پیغام بعد از ۲ ثانیه
                setTimeout(() => {
                    copyMessage.classList.add('hidden');
                }, 2000);
            }).catch(function(err) {
                console.error('Error copying text: ', err);
            });
        });

        // تنظیم سال کپی‌رایت
        document.getElementById('year').textContent = new Date().getFullYear();
    </script>
</body>
</html>
